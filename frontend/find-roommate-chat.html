<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat - Find Roommate | RoastMyDorm</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="find-roommate-chat.css">
</head>
<body>
    <!-- Particles Background -->
    <div class="particles" id="particles"></div>

    <!-- Mobile Header (visible only on mobile when in chat view) -->
    <header class="mobile-chat-header" id="mobileChatHeader">
        <button class="back-btn" id="backToList">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="mobile-user-info">
            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face" alt="User" class="mobile-avatar">
            <div class="mobile-user-details">
                <span class="mobile-user-name">Adam</span>
                <span class="mobile-user-status online">Online</span>
            </div>
        </div>
        <div class="mobile-actions">
            <button class="icon-btn"><i class="fas fa-ellipsis-v"></i></button>
        </div>
    </header>

    <!-- Main Chat Container -->
    <div class="chat-container">
        <!-- Left Sidebar - Conversation List -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo-section">
                    <a href="find-roommate.html" class="logo">
                        <span class="logo-icon">üè†</span>
                        <span class="logo-text">RoastMyDorm</span>
                    </a>
                </div>
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search conversations..." id="searchConversations">
                </div>
            </div>

            <div class="conversations-list" id="conversationsList">
                <!-- Conversation 1 - Active -->
                <div class="conversation-item active" data-id="1" data-name="Adam" data-status="online" data-img="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=50&h=50&fit=crop&crop=face">
                    <div class="conversation-avatar">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=50&h=50&fit=crop&crop=face" alt="Adam">
                        <span class="online-indicator"></span>
                    </div>
                    <div class="conversation-info">
                        <div class="conversation-header">
                            <span class="conversation-name">Adam</span>
                            <span class="conversation-time">2 min</span>
                        </div>
                        <div class="conversation-preview">
                            <span class="preview-text">That sounds great! I'm also looking for...</span>
                        </div>
                    </div>
                </div>

                <!-- Conversation 2 -->
                <div class="conversation-item" data-id="2" data-name="Leila" data-status="online" data-img="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=50&h=50&fit=crop&crop=face">
                    <div class="conversation-avatar">
                        <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=50&h=50&fit=crop&crop=face" alt="Leila">
                        <span class="online-indicator"></span>
                    </div>
                    <div class="conversation-info">
                        <div class="conversation-header">
                            <span class="conversation-name">Leila</span>
                            <span class="conversation-time">15 min</span>
                        </div>
                        <div class="conversation-preview">
                            <span class="preview-text">Yes! The apartment near Hassan II...</span>
                            <span class="unread-badge">2</span>
                        </div>
                    </div>
                </div>

                <!-- Conversation 3 -->
                <div class="conversation-item" data-id="3" data-name="Youssef" data-status="offline" data-lastseen="2h ago" data-img="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=50&h=50&fit=crop&crop=face">
                    <div class="conversation-avatar">
                        <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=50&h=50&fit=crop&crop=face" alt="Youssef">
                    </div>
                    <div class="conversation-info">
                        <div class="conversation-header">
                            <span class="conversation-name">Youssef</span>
                            <span class="conversation-time">2h</span>
                        </div>
                        <div class="conversation-preview">
                            <span class="preview-text">I'll check the place tomorrow</span>
                        </div>
                    </div>
                </div>

                <!-- Conversation 4 -->
                <div class="conversation-item" data-id="4" data-name="Sara" data-status="online" data-img="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=50&h=50&fit=crop&crop=face">
                    <div class="conversation-avatar">
                        <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=50&h=50&fit=crop&crop=face" alt="Sara">
                        <span class="online-indicator"></span>
                    </div>
                    <div class="conversation-info">
                        <div class="conversation-header">
                            <span class="conversation-name">Sara</span>
                            <span class="conversation-time">1d</span>
                        </div>
                        <div class="conversation-preview">
                            <span class="preview-text">Perfect, let me know when you're free</span>
                        </div>
                    </div>
                </div>

                <!-- Conversation 5 -->
                <div class="conversation-item" data-id="5" data-name="Karim" data-status="offline" data-lastseen="3h ago" data-img="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=50&h=50&fit=crop&crop=face">
                    <div class="conversation-avatar">
                        <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=50&h=50&fit=crop&crop=face" alt="Karim">
                    </div>
                    <div class="conversation-info">
                        <div class="conversation-header">
                            <span class="conversation-name">Karim</span>
                            <span class="conversation-time">2d</span>
                        </div>
                        <div class="conversation-preview">
                            <span class="preview-text">The budget works for me üëç</span>
                        </div>
                    </div>
                </div>

                <!-- Conversation 6 -->
                <div class="conversation-item" data-id="6" data-name="Fatima" data-status="offline" data-lastseen="1d ago" data-img="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=50&h=50&fit=crop&crop=face">
                    <div class="conversation-avatar">
                        <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=50&h=50&fit=crop&crop=face" alt="Fatima">
                    </div>
                    <div class="conversation-info">
                        <div class="conversation-header">
                            <span class="conversation-name">Fatima</span>
                            <span class="conversation-time">3d</span>
                        </div>
                        <div class="conversation-preview">
                            <span class="preview-text">Thanks for reaching out!</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Back to Browse -->
            <div class="sidebar-footer">
                <a href="find-roommate-matches.html" class="back-to-browse">
                    <i class="fas fa-users"></i>
                    <span>Browse Roommates</span>
                </a>
            </div>
        </aside>

        <!-- Right Panel - Chat Window -->
        <main class="chat-panel" id="chatPanel">
            <!-- Chat Header -->
            <div class="chat-header">
                <div class="chat-user-info">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=50&h=50&fit=crop&crop=face" alt="Adam" class="chat-avatar" id="chatAvatar">
                    <div class="chat-user-details">
                        <h2 class="chat-user-name" id="chatUserName">Adam <span id="verifiedBadge" style="display:none;" title="Verified" class="verified-badge"><i class="fas fa-shield-alt" style="color:#2ecc71;"></i> Verified</span></h2>
                        <span class="chat-user-status online" id="chatUserStatus">
                            <span class="status-dot"></span>
                            Online
                        </span>
                    </div>
                </div>
                <div class="chat-actions">
                    <button class="btn btn-blue btn-sm" id="viewProfileBtn">
                        <i class="fas fa-user"></i>
                        <span>View Profile</span>
                    </button>
                    <button class="icon-btn" id="reportBtn" title="Report">
                        <i class="fas fa-flag"></i>
                    </button>
                    <button class="icon-btn" id="blockBtn" title="Block User">
                        <i class="fas fa-ban"></i>
                    </button>
                    <button class="icon-btn" id="moreOptionsBtn" title="More options">
                        <i class="fas fa-ellipsis-h"></i>
                    </button>
                </div>
            </div>

            <!-- Engagement Tip -->
            <div class="engagement-tip">
                <i class="fas fa-lightbulb"></i>
                <span>Students who reply quickly are <strong>3x more likely</strong> to match.</span>
            </div>

            <!-- Chat Messages Area -->
            <div class="chat-messages" id="chatMessages">
                <!-- Date Separator -->
                <div class="date-separator">
                    <span>Yesterday</span>
                </div>

                <!-- Received Message -->
                <div class="message received">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face" alt="Adam" class="message-avatar">
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>Hey! I saw your profile and I think we'd be great roommates. I'm also studying at Mohammed V University.</p>
                        </div>
                        <span class="message-time">4:32 PM</span>
                    </div>
                </div>

                <!-- Sent Message -->
                <div class="message sent">
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>Hi Adam! Nice to meet you. Yes, I noticed we have similar schedules. What area are you looking at?</p>
                        </div>
                        <div class="message-meta">
                            <span class="message-time">4:45 PM</span>
                            <span class="message-status seen">
                                <i class="fas fa-check-double"></i>
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Received Message -->
                <div class="message received">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face" alt="Adam" class="message-avatar">
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>I'm looking around Agdal or Hassan. My budget is around 2000-2500 MAD per month. What about you?</p>
                        </div>
                        <span class="message-time">5:02 PM</span>
                    </div>
                </div>

                <!-- Date Separator -->
                <div class="date-separator">
                    <span>Today</span>
                </div>

                <!-- Sent Message -->
                <div class="message sent">
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>That's perfect! I was thinking the same areas. I found a few places on RoastMyDorm that look promising.</p>
                        </div>
                        <div class="message-meta">
                            <span class="message-time">10:15 AM</span>
                            <span class="message-status seen">
                                <i class="fas fa-check-double"></i>
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Received Message -->
                <div class="message received">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face" alt="Adam" class="message-avatar">
                    <div class="message-content">
                        <div class="message-bubble">
                            <p>That sounds great! I'm also looking for a place that's quiet during weekdays since I have early classes. Are you more of a morning person or night owl? üòÑ</p>
                        </div>
                        <span class="message-time">10:23 AM</span>
                    </div>
                </div>

                <!-- Typing Indicator (hidden by default) -->
                <div class="message received typing-indicator" id="typingIndicator" style="display: none;">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face" alt="Adam" class="message-avatar">
                    <div class="message-content">
                        <div class="message-bubble typing">
                            <span class="dot"></span>
                            <span class="dot"></span>
                            <span class="dot"></span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Suggestions -->
            <div class="quick-suggestions" id="quickSuggestions">
                <button class="suggestion-chip" data-text="When are you planning to move in?">
                    <i class="fas fa-calendar-alt"></i> When are you planning to move in?
                </button>
                <button class="suggestion-chip" data-text="What's your budget range?">
                    <i class="fas fa-wallet"></i> What's your budget range?
                </button>
                <button class="suggestion-chip" data-text="Are you more quiet or social?">
                    <i class="fas fa-comments"></i> Are you more quiet or social?
                </button>
            </div>

            <!-- Safety Banner -->
            <div class="safety-banner" id="safetyBanner" style="display:none;">
                <i class="fas fa-shield-alt"></i>
                <span id="safetyBannerText">Always meet in a safe public place and avoid sending deposits outside official agreements.</span>
            </div>

            <!-- Message Input Area -->
            <div class="message-input-area">
                <button class="icon-btn attachment-btn" id="attachmentBtn" title="Add attachment">
                    <i class="fas fa-plus"></i>
                </button>
                <div class="input-wrapper">
                    <textarea 
                        id="messageInput" 
                        placeholder="Type your message..." 
                        rows="1"
                        maxlength="2000"
                    ></textarea>
                </div>
                <button class="send-btn" id="sendBtn" disabled>
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </main>

        <!-- Empty State (when no conversation selected) -->
        <div class="empty-state" id="emptyState" style="display: none;">
            <div class="empty-state-content">
                <div class="empty-icon">
                    <i class="fas fa-comments"></i>
                </div>
                <h3>Select a conversation</h3>
                <p>Choose a match from the list to start chatting</p>
                <a href="find-roommate-matches.html" class="btn btn-primary">
                    <i class="fas fa-users"></i> Browse Roommates
                </a>
            </div>
        </div>
    </div>

    <!-- Report Modal -->
    <div class="modal-overlay" id="reportModal">
        <div class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-flag"></i> Report User</h3>
                <button class="close-modal" id="closeReportModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>Why are you reporting this user?</p>
                <div class="report-options">
                    <label class="report-option">
                        <input type="radio" name="reportReason" value="spam">
                        <span>Spam or fake profile</span>
                    </label>
                    <label class="report-option">
                        <input type="radio" name="reportReason" value="harassment">
                        <span>Harassment or inappropriate behavior</span>
                    </label>
                    <label class="report-option">
                        <input type="radio" name="reportReason" value="scam">
                        <span>Scam or suspicious activity</span>
                    </label>
                    <label class="report-option">
                        <input type="radio" name="reportReason" value="other">
                        <span>Other</span>
                    </label>
                </div>
                <textarea placeholder="Additional details (optional)" class="report-details" id="reportDetails"></textarea>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancelReport">Cancel</button>
                <button class="btn btn-primary" id="submitReport">Submit Report</button>
            </div>
        </div>
    </div>

    <script src="find-roommate-chat.js"></script>
</body>
</html>

